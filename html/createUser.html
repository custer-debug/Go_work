<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href ="../StaticFiles/bootstrapCss/bootstrap.css">
    <link rel = "shortcut icon" href = "../StaticFiles/images/packy_ico.png" type = "image/png">

    <title>Registration</title>
</head>
<script>
    function SendPostRequest(){
        let check = "Female"
       if(document.getElementById("Male").checked){
           check = "Male";
       }

        console.log(check)

        const l = document.getElementById("password").value
        const r = document.getElementById("secondpassword").value
        if(l === r){
            const toSend= {
            name : document.getElementById("firstname").value,
            surname : document.getElementById("lastname").value,
            birthday : document.getElementById("birthday").value,
            gender: check,
            phone : document.getElementById("phone").value,
            login : document.getElementById("login").value,
            password : l
        };
        const json = JSON.stringify(toSend);

       const xhr = new XMLHttpRequest();
        xhr.open("POST","/create");
        xhr.setRequestHeader('Content-Type',"application/json");
        xhr.send(json);
        location.replace("/login");

        }else{
            location.reload();
            alert("Passwords do not match");
        }

    }

</script>
    <body >
        
   <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
       <a class="navbar-brand" href="/login" style = "margin-left: 10px; margin-top: 5px">
           <h5>
           Packy
           </h5>
       </a>  
   </nav>
       
       
       
        <form method="POST" class = "container">
               
            <div class = "row justify-content-center bg-light">
               <div class="alert alert-warning alert-dismissible fade show" role="alert" >
                   <h4 class="alert-heading"><strong>Внимание!</strong></h4>
                    Заполните все поля для регистрации.
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
            </div>
               
               
               
            <div class="col-sm-4 card bg-light" style = "margin:5%">
                <label>
                    First Name
                </label>
                <input type = "text" id = "firstname" required placeholder="Your surname"
                       class = "border border-dark rounded " style = "margin-bottom: 10px; height: 35px" >
                <label>
                Last Name
                </label>
                    <input type = "text" id = "lastname" required placeholder="Your name"
                           class = "border border-dark rounded " style = "margin-bottom: 10px; height: 35px">

                <label>
                Birthday
                </label>
                <input type = "datetime-local" id = "birthday" placeholder="Your age"
                       class = "border border-dark rounded" style = "margin-bottom: 10px; height: 35px" >
                <label> 
                Gender
                </label>
                    <div class = "rows" style = "margin-bottom: 10px">
                    <div class="form-check form-check-inline">
                         <input class="form-check-input" type="radio" name = "radio" id = "Male" value="Male">
                         <label class="form-check-label" for="inlineRadio1">M</label>
                    
                    </div>
                    <div class="form-check form-check-inline">
                          <input class="form-check-input" type="radio" name = "radio" id = "Female" value="Female">
                          <label class="form-check-label" for="inlineRadio2">F</label>
                    </div>
                    </div>
                   <label>
                    Phone
                </label>
                <input type = "phone" id = "phone" required placeholder="Enter phone"
                       class = "border border-dark rounded" style = "margin-bottom: 10px; height: 35px">
                <label>
                login 
                </label>
                <input type = "text" id = "login" required placeholder="Enter login"
                       class = "border border-dark rounded" style = "margin-bottom: 10px; height: 35px">
                <label>
                Password
                </label>
                <input type = "password" id = "password" required placeholder="Enter password"
                       class = "border border-dark rounded" style = "margin-bottom: 10px; height: 35px">
                <label>
                Password again
                </label>
                <input type = "password" id = "secondpassword" required placeholder="Enter password"
                       class = "border border-dark rounded" style = "margin-bottom: 10px; height: 35px">


                <input onclick="SendPostRequest()" type = "button" value = "Create" class="btn btn-dark " style="margin-top: 20px; margin-bottom: 20px; width: 200px">
        </div>
           
            </div>
      <hr>

    </form>
   
        <script src = "../StaticFiles/bootstrapJs/bootstrap.js"></script>
    </body>
</html>